# clean ELGH data
# update negative log10 pvalue to pvalue
# extract essential columns
# zip file
zcat ../0_raw_data/2022_12_20_GNH_GSAchipTOPMED-r2_GWAS.all_BMI.median.regenie.gz | awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >BMI_elgh.tsv.gz
zcat ../0_raw_data/2022_12_20_GNH_GSAchipTOPMED-r2_GWAS.all_Weight.median.regenie.gz | awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >Weight_elgh.tsv.gz
zcat ../0_raw_data/2022_12_20_GNH_GSAchipTOPMED-r2_GWAS.all_Height.median.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >Height_elgh.tsv.gz
zcat ../0_raw_data/2022_12_20_GNH_GSAchipTOPMED-r2_GWAS.all_Diastolic_BP.median.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >DBP_elgh.tsv.gz
zcat ../0_raw_data/2022_12_20_GNH_GSAchipTOPMED-r2_GWAS.all_Systolic_BP.median.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >SBP_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_HDL-C.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >HDL_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_LDL-C.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >LDL_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_Total_cholesterol.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >TC_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_Triglycerides.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >TG_elgh.tsv.gz
zcat ../0_raw_data/2022_12_20_GNH_GSAchipTOPMED-r2_GWAS.all_Basophils.median.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >BAS_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_Eosinophils.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >EOS_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_Hb.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >HGB_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_Haemotocrit.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >HCT_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_Lymphocytes.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >LYM_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_MCH.regenie.gz | awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >MCH_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_MCV.regenie.gz  | awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >MCV_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_Monocytes.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >MON_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_Neutrophils.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >NEU_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_Platelets.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >PLT_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_RBC.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >RBC_elgh.tsv.gz
zcat ../0_raw_data/quant_trait_gwas_WBC.regenie.gz| awk 'BEGIN{OFS="\t"}NR>1 ($6 >0.001) && ($7 >0.8){$13=10^(-$13); print $1,$2,$3,$4,$5,$8,$10,$11,$13}' | awk 'BEGIN{print "CHR\tBP\tSNP\tA2\tA1\tN\tBETA\tSE\tPVAL"}1'| gzip >WBC_elgh.tsv.gz